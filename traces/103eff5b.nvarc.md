<rules_summary>
Each connected component of a single color is shifted in a certain direction, with color changes based on destination position and original color.
</rules_summary>
<input_generation>
Input grids of varying sizes are provided. The transformation maintains relationships between input and output dimensions.
</input_generation>
<solution_steps>
1. Identify connected components of a single color in the input grid.
2. Shift each connected component to a new location.
3. Change the colors of the shifted components based on a look-up table.
4. Place the shifted components into the output grid.
</solution_steps>
<key_insight>
There are two main groups of color blocks in the input grids.
</key_insight>
<puzzle_concepts>
- color_mapping
- connected
- translation
</puzzle_concepts>
