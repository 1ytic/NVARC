<rules_summary>
Expand connected components of 1s and change their value based on the original input grid's numbers near those components.
</rules_summary>
<input_generation>
Input grids of varying sizes are provided. The transformation maintains relationships between input and output dimensions.
</input_generation>
<solution_steps>
1. Identify connected components of 1s in the input grid.
2. Determine the replacement value for each component based on its location and neighborhood.
3. Replace the 1s in each component with the corresponding replacement value.
</solution_steps>
<key_insight>
The output grid has the same dimensions as the input grid.
</key_insight>
<puzzle_concepts>
- color_mapping
- connected
- scaling
- tiling
</puzzle_concepts>
