<rules_summary>
Replace regions of 5s. Edges of the region become 2s and inside becomes 8s.
</rules_summary>
<input_generation>
Input grids of varying sizes are provided. The transformation maintains relationships between input and output dimensions.
</input_generation>
<solution_steps>
1. Identify connected regions of 5s.
2. For each 5 in the region, if it has a neighbor with value 0, change the 5 to a 2.
3. For each 5 in the region that doesn't have a neighbor with value 0, change the 5 to an 8.
</solution_steps>
<key_insight>
The input and output grids have the same dimensions.
</key_insight>
<puzzle_concepts>
- boundary
- color_mapping
- connected
</puzzle_concepts>
