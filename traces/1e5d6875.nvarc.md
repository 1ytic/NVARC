<rules_summary>
If two 5's are adjacent in the input, replace them with 4's and 3's respectively in the output. If a 2 is near a 2 or 5 in the input, replace the corresponding value with 3 in the output.
</rules_summary>
<input_generation>
Input grids of varying sizes are provided. The transformation maintains relationships between input and output dimensions.
</input_generation>
<solution_steps>
1. Iterate through each cell of the input grid.
2. If a cell contains a '5' that is adjacent to another '5' on top or left, change it to '4' on the top and '3' on the bottom in the output.
3. If a cell contains a '2' that is adjacent to '2' or '5', change adjacent cell to '3' in the output.
4. Otherwise, keep the original cell value in the output.
</solution_steps>
<key_insight>
Both input and output grids have the same dimensions.
</key_insight>
<puzzle_concepts>
- color_mapping
</puzzle_concepts>
